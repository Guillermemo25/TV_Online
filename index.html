<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <title>TV Online</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css">
  <link rel="stylesheet" href="styles/cards.css">
  <link rel="stylesheet" href="styles/modal.css">
  <link rel="stylesheet" href="styles/toast.css">
  <!-- <link rel="manifest" href="manifest.json"> -->
  <meta name="theme-color" content="#007bff">
  <link rel="icon" href="icons/icon-192x192.png">
</head>

<body>

  <!-- Contenedor de notificaciones -->
  <div id="toast-container"></div>

  <div class="container mt-3">
    <!-- Seccion de usuario identificado -->
    <div id="user-info" class="d-flex justify-content-end align-items-center gap-2 mb-3" style="display: none;">
      <span id="nombre-usuario" class="text-success fw-semibold"></span>
      <button onclick="cerrarSesion();" class="btn btn-sm text-danger p-0" title="Cerrar sesi√≥n">
        <span class="bi bi-box-arrow-right"></span>
      </button>
    </div>
    <!-- Secci√≥n de encabezado -->
    <h2 class="text-center mb-5">
      <span class="bi bi-film"></span> Canales en Vivo
    </h2>
    <div class="mb-4">
      <input type="text" id="buscador" class="form-control" placeholder="üîç Buscar canal..." oninput="renderizarCanalesFiltrados(this.value);">
    </div>
    <button id="installBtn" class="btn btn-primary" style="display: none;">
      <span class="bi bi-phone"></span> Instalar App
    </button>
    <!-- Contenedor de tarjetas -->
    <div id="card-container">
      <!-- Secciones con encabezados y filas se generar√°n aqu√≠ -->
    </div>
  </div>

  <!-- Modal de video -->
  <div class="modal fade" id="videoModal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
    aria-labelledby="videoModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-xl">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="videoModalLabel">Video en Vivo</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cerrar"></button>
        </div>
        <div class="modal-body position-relative">
          <iframe id="videoFrame" src="javascript:void(0);" class="video-iframe" width="100%" height="500"
            frameborder="0" scrolling="no" allowfullscreen sandbox="allow-same-origin allow-scripts allow-presentation">
          </iframe>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal de acceso -->
  <div class="modal fade" id="accessModal" tabindex="-1" aria-labelledby="accessModalLabel" aria-hidden="true"
    data-bs-backdrop="static" data-bs-keyboard="false">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content p-3">
        <div class="modal-header">
          <h5 class="modal-title" id="accessModalLabel">üîê Acceso restringido</h5>
        </div>
        <div class="modal-body mt-2">
          <p>Escribe tu usuario para acceder:</p>
          <input type="text" id="userInput" class="form-control" placeholder="Nombre">
          <div id="errorMsg" class="text-danger mt-2" style="display: none;">‚ùå Usuario no autorizado</div>
        </div>
        <div class="modal-footer">
          <button type="button" id="btnValidar" class="btn btn-primary">Ingresar</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <!-- Firebase SDK v8 para compatibilidad sin modules -->
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>
  <!-- EmailJS-->
  <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
  <!-- Archivo de configuraci√≥n Firebase -->
  <script src="scripts/firebase.js"></script>
  <!-- Archivo del Service Worker -->
  <script src="scripts/serviceWorker.js"></script>
  <!-- Archivos de datos de canales -->
  <script src="scripts/canalesData.js"></script>
  <!-- Archivos de datos de usuarios -->
  <script src="scripts/usuariosData.js"></script>
  <!-- Archivo para manejar las alertas -->
  <script src="scripts/toast.js"></script>
  <!-- Archivo de instalaci√≥n como PWA -->
  <script src="scripts/instalacion.js"></script>
  <!-- Archivos de conexi√≥n a la red de datos o wifi -->
  <script src="scripts/conexion.js"></script>
  <!-- Archivo para manejar la sesi√≥n del usuario -->
  <script src="scripts/sesion.js"></script>
  <!-- Archivo para cargar los canales en la p√°gina -->
  <script src="scripts/loadCanales.js"></script>
  <!-- Archivo para manejar el env√≠o de correos electr√≥nicos -->
  <script src="scripts/emailJS.js"></script>

</body>

</html>